"use strict";var e=require("@babel/runtime/helpers/defineProperty"),r=require("@babel/runtime/helpers/asyncToGenerator"),t=require("@babel/runtime/regenerator"),i=require("@uniswap/sdk-core"),n=require("@uniswap/smart-order-router"),a=require("./index-0d26a07f.cjs"),u=require("jsbi"),o=require("@uniswap/router-sdk");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("react"),require("@babel/runtime/helpers/slicedToArray"),require("styled-components"),require("buffer"),require("@web3-react/core"),require("@babel/runtime/helpers/extends"),require("@babel/runtime/helpers/objectWithoutProperties"),require("polished"),require("@babel/runtime/helpers/taggedTemplateLiteral"),require("wcag-contrast"),require("rebass"),require("react-feather"),require("@babel/runtime/helpers/toConsumableArray"),require("@uniswap/analytics-events"),require("@uniswap/analytics"),require("jotai/utils"),require("@ethersproject/bignumber"),require("@uniswap/v3-sdk"),require("rebass/styled-components"),require("@babel/runtime/helpers/classCallCheck"),require("@babel/runtime/helpers/createClass"),require("@ethersproject/abi"),require("@uniswap/redux-multicall"),require("@babel/runtime/helpers/inherits"),require("@babel/runtime/helpers/possibleConstructorReturn"),require("@babel/runtime/helpers/getPrototypeOf"),require("tiny-invariant"),require("@ethersproject/address"),require("@ethersproject/constants"),require("@ethersproject/contracts"),require("popper-max-size-modifier"),require("react-dom"),require("react-popper"),require("@reduxjs/toolkit"),require("wicg-inert"),require("@babel/runtime/helpers/get"),require("setimmediate"),require("@web3-react/walletconnect-v2"),require("qrcode"),require("jotai"),require("@babel/runtime/helpers/objectDestructuringEmpty"),require("jotai/immer"),require("@babel/runtime/helpers/assertThisInitialized"),require("@babel/runtime/helpers/wrapNativeSuper"),require("@ethersproject/bytes"),require("@ethersproject/strings"),require("@ethersproject/hash"),require("cids"),require("multicodec"),require("multihashes"),require("@uniswap/conedison/format"),require("@uniswap/v2-sdk"),require("ethers/lib/utils"),require("@reduxjs/toolkit/query/react"),require("@ethersproject/units"),require("@babel/runtime/helpers/typeof"),require("qs"),require("react-redux"),require("@uniswap/universal-router-sdk"),require("@uniswap/permit2-sdk"),require("@uniswap/conedison/provider/signing"),require("node-vibrant/lib/bundle.js"),require("react-virtualized-auto-sizer"),require("react-window"),require("@uniswap/conedison/provider/index"),require("@ethersproject/providers"),require("@web3-react/eip1193"),require("@web3-react/metamask"),require("@web3-react/network"),require("@web3-react/types"),require("make-plural/plurals"),require("redux"),require("resize-observer-polyfill");var c=s(e),l=s(r),d=s(t),p=s(u);function m(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"==typeof e)return b(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,r)}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){o=!0,a=e},f:function(){try{u||null==t.return||t.return()}finally{if(o)throw a}}}}function b(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=e[t];return i}function q(e){var r,t=e.quote,i=e.quoteGasAdjusted,n=e.route,u=e.routeString,s=e.estimatedGasUsed,c=e.estimatedGasUsedQuoteToken,l=e.estimatedGasUsedUSD,d=e.gasPriceWei,p=e.methodParameters,b=e.blockNumber,q=e.trade,h=q.tradeType,f=q.inputAmount,y=q.outputAmount,v=[],g=m(n);try{for(g.s();!(r=g.n()).done;){var w=r.value,I=w.amount,S=w.quote,k=w.tokenPath;if(w.protocol===o.Protocol.V3){for(var O=w.route.pools,j=[],x=0;x<O.length;x++){var P=O[x],C=k[x],A=k[x+1],E=void 0;0===x&&(E=a.isExactInput(h)?I.quotient.toString():S.quotient.toString());var T=void 0;x===O.length-1&&(T=a.isExactInput(h)?S.quotient.toString():I.quotient.toString()),j.push({type:"v3-pool",tokenIn:{chainId:C.chainId,decimals:C.decimals,address:C.address,symbol:C.symbol},tokenOut:{chainId:A.chainId,decimals:A.decimals,address:A.address,symbol:A.symbol},fee:P.fee.toString(),liquidity:P.liquidity.toString(),sqrtRatioX96:P.sqrtRatioX96.toString(),tickCurrent:P.tickCurrent.toString(),amountIn:E,amountOut:T})}v.push(j)}else if(w.protocol===o.Protocol.V2){for(var D=w.route.pairs,U=[],N=0;N<D.length;N++){var R=D[N],G=k[N],Q=k[N+1],L=void 0;0===N&&(L=a.isExactInput(h)?I.quotient.toString():S.quotient.toString());var M=void 0;N===D.length-1&&(M=a.isExactInput(h)?S.quotient.toString():I.quotient.toString());var z=R.reserve0,W=R.reserve1;U.push({type:"v2-pool",tokenIn:{chainId:G.chainId,decimals:G.decimals,address:G.address,symbol:G.symbol},tokenOut:{chainId:Q.chainId,decimals:Q.decimals,address:Q.address,symbol:Q.symbol},reserve0:{token:{chainId:z.currency.wrapped.chainId,decimals:z.currency.wrapped.decimals,address:z.currency.wrapped.address,symbol:z.currency.wrapped.symbol},quotient:z.quotient.toString()},reserve1:{token:{chainId:W.currency.wrapped.chainId,decimals:W.currency.wrapped.decimals,address:W.currency.wrapped.address,symbol:W.currency.wrapped.symbol},quotient:W.quotient.toString()},amountIn:L,amountOut:M})}v.push(U)}}}catch(e){g.e(e)}finally{g.f()}var B=a.isExactInput(h)?f:y;return{state:a.QuoteState.SUCCESS,data:{methodParameters:p,blockNumber:b.toString(),amount:B.quotient.toString(),amountDecimals:B.toExact(),quote:t.quotient.toString(),quoteDecimals:t.toExact(),quoteGasAdjusted:i.quotient.toString(),quoteGasAdjustedDecimals:i.toExact(),gasUseEstimateQuote:c.quotient.toString(),gasUseEstimateQuoteDecimals:c.toExact(),gasUseEstimate:s.toString(),gasUseEstimateUSD:l.toExact(),gasPriceWei:d.toString(),route:v,routeString:u}}}function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,i)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){c.default(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var y=Object.values(i.ChainId).filter((function(e){return Number.isInteger(e)}));var v=new WeakMap;function g(e,r){var t,a,u,o=v.get(r)||{},s=o[e];if(s)return s;e!==i.ChainId.MAINNET&&(t=new n.StaticV2SubgraphProvider(e)),[i.ChainId.POLYGON,i.ChainId.POLYGON_MUMBAI].includes(e)&&(u=new n.UniswapMulticallProvider(e,r,375e3),a=new n.OnChainQuoteProvider(e,r,u,{retries:2,minTimeout:100,maxTimeout:1e3},{multicallChunk:10,gasLimitPerCall:5e6,quoteMinSuccessRate:.1},{gasLimitOverride:5e6,multicallChunk:5},{gasLimitOverride:625e4,multicallChunk:4}));var c=new n.AlphaRouter({chainId:e,provider:r,v2SubgraphProvider:t,multicall2Provider:u,onChainQuoteProvider:a});return o[e]=c,v.set(r,o),c}function w(e,r,t){return I.apply(this,arguments)}function I(){return(I=l.default(d.default.mark((function e(r,t,u){var o,s,c,l,m,b,h,y,v,g,w,I;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.tradeType,s=r.tokenIn,c=r.tokenOut,l=r.amount,m=Object.values(a.SwapRouterNativeAssets).includes(s.address),b=Object.values(a.SwapRouterNativeAssets).includes(c.address),h=m?a.nativeOnChain(s.chainId):new i.Token(s.chainId,s.address,s.decimals,s.symbol),y=b?a.nativeOnChain(c.chainId):new i.Token(c.chainId,c.address,c.decimals,c.symbol),v=a.isExactInput(o)?h:y,g=a.isExactInput(o)?y:h,w=i.CurrencyAmount.fromRawAmount(v,p.default.BigInt(null!=l?l:"1")),e.next=10,t.route(w,g,o,void 0,u);case 10:if(I=e.sent,l){e.next=13;break}return e.abrupt("return",{state:a.QuoteState.INITIALIZED});case 13:if(I){e.next=15;break}return e.abrupt("return",{state:a.QuoteState.NOT_FOUND});case 15:return e.abrupt("return",q(f(f({},I),{},{routeString:n.routeAmountsToString(I.route)})));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=l.default(d.default.mark((function e(r,t){var i,n,a,u,o,s,c,l,p,m,b,q;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.tokenInAddress,n=r.tokenInChainId,a=r.tokenInDecimals,u=r.tokenInSymbol,o=r.tokenOutAddress,s=r.tokenOutChainId,c=r.tokenOutDecimals,l=r.tokenOutSymbol,p=r.amount,m=r.tradeType,b=r.provider,d=n,Boolean(d&&y.includes(d))){e.next=3;break}throw new Error("Router does not support this token's chain (chainId: ".concat(n,")."));case 3:return q=g(n,b),e.abrupt("return",w({tradeType:m,tokenIn:{address:i,chainId:n,decimals:a,symbol:u},tokenOut:{address:o,chainId:s,decimals:c,symbol:l},amount:p},q,t));case 5:case"end":return e.stop()}var d}),e)})))).apply(this,arguments)}exports.getClientSideQuoteResult=function(e,r){return S.apply(this,arguments)};
